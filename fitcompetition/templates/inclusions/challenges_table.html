{% load apptags %}
{% load humanize %}
{% if challenges and challenges|length > 0 %}
    <h3>
        {% if iconClass %}<i class="{{ iconClass }}"></i>{% endif %}
        {{ title }}
    </h3>
    <div class="list-group list-challenges">
        {% for challenge in challenges %}
			<div class="list-group-item row">
				<div class="col-xs-6 col-sm-5">
					<a href="{% url "challenge_details" challenge.id %}"><h4>{{ challenge.name }}</h4></a>
					<div class="challenge-stats">${{ challenge.ante|intcomma }} bet / {{ challenge.numPlayers }} Player{{ challenge.numPlayers|pluralize }}</div>
					<div class="challenge-stats-other">{{ challenge|challengeType }}, {{ challenge|challengeStyle }}</div>
					<div class="challenge-stats-other">{{ challenge.approvedActivityNames|commaSeparated:"or" }}</div>
				</div>

				<div class="hidden-xs col-sm-4">
					<div class="challenge-label">In the pot</div>
					<div class="challenge-value">${{ challenge.moneyInThePot|intcomma }}</div>
				</div>

				<div class="col-xs-6 col-sm-3">
					{% if challenge.hasStarted %}
						{% if not challenge.hasEnded %}
							<div class="challenge-label">{{ challenge.enddate|daysUntil }} left</div>
						{% else %}
							<div class="challenge-label">Ended {{ challenge.enddate|date:"m.d.y" }}</div>
						{% endif %}
						<a href="{% url "challenge_details" challenge.id %}" class="btn btn-primary">View Challenge</a>
					{% else %}
						<div class="challenge-label">Starts in {{ challenge.startdate|daysUntil }}</div>

						<a href="{% url "challenge_details" challenge.id %}" class="btn btn-primary">Join Challenge</a>
					{% endif %}
				</div>
		</div>
        {% endfor %}
    </div>
{% endif %}